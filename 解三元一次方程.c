#include<stdio.h>

int main()
{
	float a[3][4];
	int i, k;
	float D;
	float x[3];
	float t[3];
	char c[3] = { 'x','y','z' };
	printf("Equation example: ax + by + cz = d\n\n");
	for (i = 0;i < 3;i++)
	{
		printf("Please input a, b, c, d:    ");
		scanf("%f%f%f%f", &a[i][0], &a[i][1], &a[i][2], &a[i][3]);
	}
	printf("\n-------------------Computing------------------------\n");
	D = a[0][0] * a[1][1] * a[2][2] + a[0][1] * a[1][2] * a[2][0] + a[0][2] * a[1][0] * a[2][1]
		- a[0][2] * a[1][1] * a[2][0] - a[0][1] * a[1][0] * a[2][2] - a[1][2] * a[2][1] * a[0][0];
	printf("\n\t| %5.2f %5.2f %5.2f |\n    D = | %5.2f %5.2f %5.2f | = %5.2f\n\t| %5.2f %5.2f %5.2f |\n", a[0][0], a[0][1], a[0][2], a[1][0], a[1][1], a[1][2], D, a[2][0], a[2][1], a[2][2]);
	for (i = 0;i < 3;i++)
	{
		for (k = 0;k < 3;k++)
		{
			t[k] = a[k][i];
			a[k][i] = a[k][3];
		}
		x[i] = a[0][0] * a[1][1] * a[2][2] + a[0][1] * a[1][2] * a[2][0] + a[0][2] * a[1][0] * a[2][1]
			- a[0][2] * a[1][1] * a[2][0] - a[0][1] * a[1][0] * a[2][2] - a[1][2] * a[2][1] * a[0][0];
		printf("\n\t| %5.2f %5.2f %5.2f |\n   D%c = | %5.2f %5.2f %5.2f | = %5.2f\n\t| %5.2f %5.2f %5.2f |\n", a[0][0], a[0][1], a[0][2], c[i], a[1][0], a[1][1], a[1][2], x[i], a[2][0], a[2][1], a[2][2]);
		x[i] = x[i] / D;
		for (k = 0;k < 3;k++)
		{
			a[k][i] = t[k];
		}
	}
	printf("\n----------------------Result-------------------------\n");
	printf("\n   x = %5.2f\ty = %5.2f\tz = %5.2f\n\n", x[0], x[1], x[2]);
	system("pause");
	return 0;
}